<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PharmaGuardian AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #39b5a4;
            --dark: #0a192f;
            --text-gray: #8892b0;
            --white: #e6f1ff;
            --error: #ff4d4d;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: var(--white); overflow: hidden; }

        /* Header & Brand */
        header {
            display: flex;
            align-items: center;
            padding: 20px 5%;
            position: absolute;
            width: 100%;
            z-index: 10;
        }
        .brand-container { display: flex; align-items: center; gap: 15px; }
        .logo-img { height: 60px; width: auto; }
        .tagline-box h2 { font-size: 1.8rem; color: var(--primary); margin: 0; }
        .tagline-box p { font-size: 0.9rem; color: var(--text-gray); font-style: italic; }

        /* Hero */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 10%;
            background: linear-gradient(to right, rgba(10,25,47,0.9), transparent), url('79167.png');
            background-size: cover;
            background-position: center;
        }
        .hero-content h1 { font-size: 3.5rem; max-width: 600px; margin-bottom: 20px; }

        /* Popup Overlay */
        #authOverlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none; /* Controlled by JS */
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .auth-card {
            background: #112240;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 550px;
            border: 1px solid var(--primary);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .hidden { display: none !important; }
        
        input, select {
            width: 100%; padding: 12px; margin: 10px 0;
            background: #0a192f; border: 1px solid #233554;
            color: white; border-radius: 8px; outline: none;
        }

        .btn-row { display: flex; gap: 15px; margin-top: 20px; }
        button { 
            flex: 1; padding: 14px; border-radius: 10px; border: none; 
            cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.3s;
        }
        .btn-main { background: var(--primary); color: white; }
        .btn-frozen { background: #233554; color: #555; cursor: not-allowed; }
        
        .verify-box { display: flex; gap: 10px; }
        .error-msg { color: var(--error); font-size: 0.8rem; display: none; margin-top: -5px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <header>
        <div class="brand-container">
            <img src="79171.png" alt="Logo" class="logo-img">
            <div class="tagline-box">
                <h2>PharmaGuardian AI</h2>
                <p>Safer Medicines, Smarter Lives.</p>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>AI That Thinks Like a Pharmacist.</h1>
        </div>
    </section>

    <div id="authOverlay">
        <div class="auth-card" id="step1">
            <h2 style="color: var(--primary); margin-bottom: 10px;">Welcome</h2>
            <p style="margin-bottom: 30px;">Safer Medicines, Smarter Lives.</p>
            <div class="btn-row">
                <button class="btn-main" onclick="showLogin()">Login</button>
                <button class="btn-main" onclick="showSignup()">Create New Account</button>
            </div>
        </div>

        <div class="auth-card hidden" id="loginStep">
            <h3>Login Options</h3>
            <div class="btn-row">
                <button onclick="toggleLoginFields('email')">Email</button>
                <button onclick="toggleLoginFields('mobile')">Mobile No.</button>
            </div>

            <div id="emailSection" class="hidden">
                <input type="email" id="logEmail" placeholder="Enter Email" oninput="validateLogin()">
                <input type="password" id="logPassE" placeholder="Password" oninput="validateLogin()">
            </div>

            <div id="mobileSection" class="hidden">
                <input type="text" id="logMob" placeholder="Enter Mobile No." oninput="validateLogin()">
                <input type="password" id="logPassM" placeholder="Password" oninput="validateLogin()">
                <p style="font-size: 0.8rem; color: var(--primary); cursor: pointer;">Login without password?</p>
            </div>

            <button id="signInBtn" class="btn-frozen" disabled style="width: 100%; margin-top: 20px;">Sign In</button>
        </div>

        <div class="auth-card hidden" id="signupStep">
            <h3>Create New Account</h3>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="fn" placeholder="First Name" oninput="validateSignup()">
                <input type="text" id="ln" placeholder="Last Name" oninput="validateSignup()">
            </div>
            <select id="gen" onchange="validateSignup()">
                <option value="">Select Gender</option>
                <option>Male</option><option>Female</option><option>Other</option>
            </select>
            
            <div class="verify-box">
                <input type="text" id="sMob" placeholder="Mobile No." oninput="validateSignup()">
                <button id="vBtn" class="btn-main" style="flex: 0; white-space: nowrap;" onclick="verifyNum()">Verify No.</button>
            </div>
            <div id="otpBox" class="hidden">
                <input type="text" id="otpIn" placeholder="Enter OTP">
                <button class="btn-main" onclick="confirmOtp()" style="width: 100%;">Submit OTP</button>
            </div>

            <input type="text" id="uid" placeholder="Enter ID" oninput="validateSignup()">
            <input type="date" id="dob" oninput="validateSignup()">
            <input type="password" id="p1" placeholder="Password" oninput="validateSignup()">
            <input type="password" id="p2" placeholder="Confirm Password" oninput="validateSignup()">
            <p id="pErr" class="error-msg">Passwords do not match!</p>

            <button id="signUpBtn" class="btn-frozen" disabled style="width: 100%; margin-top: 10px;" onclick="location.reload()">Sign Up</button>
        </div>
    </div>

    <script>
        // Auto-show popup on load
        window.onload = () => {
            document.getElementById('authOverlay').style.display = 'flex';
        };

        const steps = ['step1', 'loginStep', 'signupStep'];
        function hideAll() { steps.forEach(s => document.getElementById(s).classList.add('hidden')); }

        function showLogin() { hideAll(); document.getElementById('loginStep').classList.remove('hidden'); }
        function showSignup() { hideAll(); document.getElementById('signupStep').classList.remove('hidden'); }

        // Login Logic
        let currentMode = '';
        function toggleLoginFields(mode) {
            currentMode = mode;
            document.getElementById('emailSection').classList.toggle('hidden', mode !== 'email');
            document.getElementById('mobileSection').classList.toggle('hidden', mode !== 'mobile');
            validateLogin();
        }

        function validateLogin() {
            const btn = document.getElementById('signInBtn');
            let valid = false;
            if(currentMode === 'email') {
                valid = document.getElementById('logEmail').value && document.getElementById('logPassE').value;
            } else if(currentMode === 'mobile') {
                valid = document.getElementById('logMob').value && document.getElementById('logPassM').value;
            }
            btn.disabled = !valid;
            btn.className = valid ? 'btn-main' : 'btn-frozen';
        }

        // Signup Logic
        let isVerified = false;
        function verifyNum() {
            document.getElementById('otpBox').classList.remove('hidden');
        }

        function confirmOtp() {
            document.getElementById('otpBox').classList.add('hidden');
            document.getElementById('sMob').disabled = true;
            document.getElementById('vBtn').innerText = "Verified âœ…";
            document.getElementById('vBtn').disabled = true;
            isVerified = true;
            validateSignup();
        }

        function validateSignup() {
            const pass1 = document.getElementById('p1').value;
            const pass2 = document.getElementById('p2').value;
            const err = document.getElementById('pErr');
            
            // Show red line if not matching
            err.style.display = (pass1 && pass2 && pass1 !== pass2) ? 'block' : 'none';

            const ids = ['fn', 'ln', 'gen', 'sMob', 'uid', 'dob', 'p1', 'p2'];
            const allFilled = ids.every(i => document.getElementById(i).value !== "");
            const match = pass1 === pass2 && pass1 !== "";
            
            const btn = document.getElementById('signUpBtn');
            if(allFilled && match && isVerified) {
                btn.disabled = false;
                btn.className = 'btn-main';
            } else {
                btn.disabled = true;
                btn.className = 'btn-frozen';
            }
        }
    </script>
</body>
</html>

